
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Page Not Found</title>
  <!-- Always force HTTPS -->
  <script type="text/javascript">
    // Redirect to HTTPS if currently on HTTP
    if (window.location.protocol === 'http:' && window.location.hostname !== 'localhost') {
      window.location.href = window.location.href.replace('http:', 'https:');
    }
  </script>
  <script type="text/javascript">
    // Single Page Apps for GitHub Pages
    // MIT License - https://github.com/rafgraph/spa-github-pages
    
    var l = window.location;
    console.log("404.html - Processing URL: " + l.href);
    
    // Parse the repository name from the pathname
    var repoName = l.pathname.split('/')[1];
    console.log("404.html - Detected repo name: " + repoName);
    
    // Handle the case where we're at the root of the domain (no repo name)
    var pathSegmentsToKeep = repoName ? 1 : 0;
    
    var newUrl = l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
      (repoName ? '/' + repoName : '') + '/?/' +
      l.pathname.slice(1).split('/').slice(pathSegmentsToKeep).join('/').replace(/&/g, '~and~') +
      (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
      l.hash;
    
    console.log("404.html - Redirecting to: " + newUrl);
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('redirect-url').textContent = newUrl;
    });
    
    // Perform the redirect
    l.replace(newUrl);
  </script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #f5f5f5;
    }
    .container {
      text-align: center;
      padding: 20px;
    }
    h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }
    p {
      font-size: 18px;
      color: #666;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Redirecting...</h1>
    <p>If you are not redirected automatically, please click <a id="manual-redirect" href="/">here</a> to go to the homepage.</p>
    <p><small>Debug info: <span id="redirect-url">Calculating redirect...</span></small></p>
  </div>
  <script>
    // Set the manual redirect link with correct base path
    var repoName = window.location.pathname.split('/')[1];
    document.getElementById('manual-redirect').href = repoName ? '/' + repoName : '/';
  </script>
</body>
</html>
